(this["webpackJsonpionic-react"]=this["webpackJsonpionic-react"]||[]).push([[11],{196:function(e,t,a){},201:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a.n(n),l=a(12),c=a(49),i=a(0),o=a.n(i),u=a(2),m=a(21),s=a(11),p=a(25),f=a(13),v=(a(196),m.e.Camera),E=function(e){var t=Object(i.useState)(),a=Object(c.a)(t,2),n=a[0],s=a[1],p=Object(i.useRef)(null),E=function(){p.current.click()},d=function(){var t=Object(l.a)(r.a.mark((function t(){var a,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m.c.isPluginAvailable("Camera")){t.next=3;break}return E(),t.abrupt("return");case 3:return t.prev=3,t.next=6,v.getPhoto({resultType:m.a.Uri,source:m.b.Camera,quality:80,width:500});case 6:if((a=t.sent)&&a.webPath){t.next=9;break}return t.abrupt("return");case 9:n={path:a.path,preview:a.webPath},s(n),e.onImagePick(n),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),E();case 17:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(){return t.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"image-preview"},!n&&o.a.createElement("h3",null,"No photo chosen."),n&&o.a.createElement("img",{src:n.preview,alt:"Preview"})),o.a.createElement(u.d,{fill:"clear",onClick:d},o.a.createElement(u.o,{icon:f.c,slot:"start"}),o.a.createElement(u.r,null,"Take Photo")),o.a.createElement("input",{type:"file",hidden:!0,ref:p,onChange:function(t){var a=t.target.files[0],n=new FileReader;n.onload=function(){var t={path:void 0,preview:n.result.toString()};s(t),e.onImagePick(t)},n.readAsDataURL(a)}}))};m.e.Filesystem,t.default=function(){var e=Object(i.useState)(),t=Object(c.a)(e,2),a=t[0],n=t[1],m=Object(i.useState)("good"),f=Object(c.a)(m,2),v=f[0],d=f[1],b=Object(i.useContext)(p.a),g=Object(i.useRef)(null),h=Object(s.g)(),w=function(){var e=Object(l.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=null===(t=g.current)||void 0===t?void 0:t.value)&&0!==n.toString().trim().length&&a&&v){e.next=3;break}return e.abrupt("return");case 3:b.addMemory(a,n.toString(),v),h.length>0?h.goBack():h.replace("/good-memories");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(u.t,null,o.a.createElement(u.n,null,o.a.createElement(u.D,null,o.a.createElement(u.e,{slot:"start"},o.a.createElement(u.c,{defaultHref:"/good-memories"})),o.a.createElement(u.C,null,"Add New Memory"))),o.a.createElement(u.j,null,o.a.createElement(u.m,null,o.a.createElement(u.v,null,o.a.createElement(u.i,null,o.a.createElement(u.q,null,o.a.createElement(u.r,{position:"floating"},"Memory Title"),o.a.createElement(u.p,{type:"text",ref:g})))),o.a.createElement(u.v,null,o.a.createElement(u.i,null,o.a.createElement(u.w,{onIonChange:function(e){var t=e.detail.value;d(t)},value:v},o.a.createElement(u.x,{value:"good"},"Good Memory"),o.a.createElement(u.x,{value:"bad"},"Bad Memory")))),o.a.createElement(u.v,{className:"ion-text-center"},o.a.createElement(u.i,null,o.a.createElement(E,{onImagePick:function(e){n(e)}}))),o.a.createElement(u.v,{className:"ion-margin-top"},o.a.createElement(u.i,{className:"ion-text-center"},o.a.createElement(u.d,{onClick:w},"Add Memory"))))))}}}]);
//# sourceMappingURL=11.ef9b7cd2.chunk.js.map